# Windows System Project - Python Client

This directory contains the desktop GUI client for the Stock Portfolio application, built using Python and PySide6 (Qt).

## Architecture

The application is structured loosely around the Model-View-Presenter (MVP) pattern:

- **Model (`model/`)**: Handles data persistence (e.g., local `user.json` storage) and complex backend logic, such as the LangGraph/Langchain implementation for the AI `chat_backend`.
- **View (`view/`)**: Contains the PySide6 UI definitions, often loaded from `.ui` files generated by Qt Designer or built directly with QWidgets. Contains QSS stylesheets.
- **Presenter (`presenter/`)**: Acts as the intermediary. Contains the business logic for the UI, handles user interactions, updates the views, and makes REST API calls to the FastAPI backend.

## Key Components

- `main.py`: The entry point. Initializes the Qt Application and launches the `LoginWindow`.
- `presenter/login_manager.py`: Manages the authentication flow, delegating API calls to verify credentials and transitioning to the main application window upon success.
- `presenter/main_presenter.py`: Manages the primary application shell (`MainWindow`), including the sidebar navigation that switches between different views (Home, Dashboard, Orders, Customers) hosted in a `QStackedWidget`.
- `view/TransactionsWindow.py`: The dedicated interface for buying and selling stocks, interacting with the backend CQRS transaction endpoints.
- `view/StockGraph.py`: Embeds a Matplotlib canvas within the Qt application to render interactive, historical stock price charts using data from Yahoo Finance.
- `view/chatWindow.py`: An asynchronous AI chat interface allowing the user to query their portfolio or market data via an LLM.
- `view/userDetails.py`: A dashboard for viewing and editing user profile information and their current portfolio evaluation.

## Requirements

Ensure the main project's virtual environment is active and its dependencies are installed. Key client-side libraries include:

- `PySide6`
- `requests`
- `matplotlib`
- `pandas`
- `yfinance`
- `langchain`
- `langgraph`

## Running the Client

Ensure the FastAPI backend is running first. Then, execute the main entry point:

```bash
python main.py
```
